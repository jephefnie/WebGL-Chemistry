<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Periodic Table</title>
<style type="text/css">
    html, body { 
        height: 100%;
    }

    body {
        background-color: #000000;
        margin: 0; 
        font-family: Helvetica, sans-serif; 
        overflow: hidden; 
    }

    /*button css start*/
    #menu {
        position: absolute; 
        z-index: 100;
        width: 100%; 
        bottom: 30px; 
        text-align: center; 
        font-size: 32px 
    }

    button {
        border: none;
        background-color: transparent; 
        color: rgba( 127, 255, 255, 0.75 ); 
        padding: 12px 24px; 
        cursor: pointer; 
        outline: 1px solid rgba( 127, 255, 255, 0.75 );
    }

    button:hover { 
        background-color: rgba( 127, 255, 255, 0.5 ) 
    }

    button:active { 
        background-color: rgba( 127, 255, 255, 0.75 ) 
    }
    /*end*/
    
    /*element css start*/
    .element {
        width: 120px;
        height: 160px;
        cursor: default;
        text-align: center;
        border: 1px solid rgba( 127, 255, 255, 0.25 );
        box-shadow: 0 0 12px rgba( 0, 255, 255, 0.5 );
    }

    .element:hover{ 
        border: 1px solid rgba( 127, 255, 255, 0.75 ); 
        box-shadow: 0 0 12px rgba( 0, 255, 255, 0.75 ); 
    }

    .element .number {
        position: absolute; 
        top: 20px; 
        right: 20px; 
        font-size: 12px; 
        color: rgba( 127, 255, 255, 0.75 ); 
    }

    .element .symbol {
        position: absolute; 
        top: 40px; 
        left: 0px; 
        right: 0; 
        font-size: 60px; 
        font-weight: bold; 
        color: rgba( 255, 255, 255, 0.75 ); 
        text-shadow: 0 0 10px rgba( 0, 255, 255, 0.95 );
    }

    .element .detail {
        position: absolute; 
        left: 0; 
        right: 0; 
        bottom: 15px; 
        font-size: 12px; 
        color: rgba( 127, 255, 255, 0.75 ); 
    }
/*dropdown menu start
*/    .dropbtn {
      background-color: black;
      color: white;
      padding: 5px;
      font-size: 16px;
      border: none;
      cursor: pointer;
    }

    .dropbtn:hover, .dropbtn:focus {
      background-color: #808080;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 560px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
    }

    .dropdown-content p {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align:center;
    }

    .show {display: block;}
    /*end*/

    table {
      border-collapse: collapse;
      justify-content: center;
      width: 100%
    }

    table, th,td {
      border: 1px solid white;
      padding: 2px;
      color: white;
      text-align: center;
    }

</style>
</head>
}
<!-- end -->

</head>
<body id="main_body">


<!-- On/off menu start-->
<div class="dropdown" style="width: 100%">
  <button onclick="myFunction()" class="dropbtn">Click me for help!</button>
  <div id="myDropdown" class="dropdown-content">
     <p>The whole universe is made up of the atom, and they are so small particles of an element, that we are not able to see them through bare eyes or even via microscope, but they do exist in each and every object and are affected by our activities.The periodic table, also known as the periodic table of elements, is a tabular display of the chemical elements, which are arranged by atomic number, electron configuration, and recurring chemical properties. The structure of the table shows periodic trends.</p>
    <h3 style="text-align: center;"> Getting bored with the book-style periodic table?</h3>
    <p> Here is various interesting way to view the periodic table! 
    Click on the button to test out every style! You may also change the 
viewpoint using your mouse control. Click and hold to rotate, scroll to zoom.</p>
    <p>Lose yourself in the world of periodic table NOW!</p>
    <h3 style="text-align: center;">Category</h3>
    <table>
        <tr><td style="background-color:rgba(255,102,163)">Unknown</td>
        </tr>
        <tr>
            <td style="background-color :rgba(255,26,140)">Alkali</td>
            <td style="background-color:rgba(179,0,179)">Alkaline</td>
            <td style="background-color:rgba(102,153,255)">Transition</td>
            <td style="background-color:rgba(0,102,0)">Post-Transition</td>
            <td style="background-color:rgba(26,255,26)">Metalloid</td>
        </tr><tr>
            <td style="background-color:rgba(0,136,1366)">Others</td>
            <td style="background-color:rgba(255,68,68)">Halogen</td>
            <td style="background-color:rgba(153,51,204)">Noble</td>
            <td style="background-color:rgba(255,255,0)">Lanthanide</td>
            <td style="background-color:rgba(255,71,26)">Actinide</td></tr>
    </table>

  </div>
  <a href="../molecules/molecules.html" style="padding:0.5em 1.5em; background-color: blanchedalmond ; box-shadow: 2px 2px 5px chocolate; color: black; float: right">Back</a> 
</div>

<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>
<!-- end -->


    <div id="container">
        <!-- menu css start-->
        <div id="menu">
            <button id="table">TABLE</button>
            <button id="sphere">SPHERE</button>
            <button id="sphere2">SPHERE2</button>
            <button id="plane">PLANE</button>
            <button id="helix">HELIX</button>
            <button id="grid">GRID</button>
            <button id="cone">CONE</button>
        </div>
        <!-- end -->


    </div>
    <!-- libraries -->
    <script src="three.js"></script>
    <script src="tween.min.js"></script>
    <script src="TrackballControls.js"></script>
    <script src="CSS3DRenderer.js"></script>

    <script>

        /**
         * @complexity of space  S(n) = o(1);
         * @complexity of time  T(n) = O(1);
         */
        
        /**
         * [table element]
         * @type {Array}
         * @element 5 in a group [ symbol detail1 detail2 columnInfo colInfo ]
         * 
         * [ scene camera renderer ] the three basic component of three.js
     * [ controls trackballControls obj ]
     * 
     * [objects save CSS3D domElem]
     * @type {Array}
     *
     * 
     * [targets save the four kinds vertices]
     * @type {Object}
     * [ table sphere helix grid ] transform CSS3D elem'position to one of these for animation
         */
        
        const table   = [
                 "H", "Hydrogen", "1.00794", 1, 1, "Other" ,
                 "He", "Helium", "4.002602", 18, 1, "Noble",
                 "Li", "Lithium", "6.941", 1, 2, "Alkali" ,
                 "Be", "Beryllium", "9.012182", 2, 2, "Alkaline" ,
                 "B", "Boron", "10.811", 13, 2, "Metalloid" ,
                 "C", "Carbon", "12.0107", 14, 2, "Other" ,
                 "N", "Nitrogen", "14.0067", 15, 2, "Other" ,
                 "O", "Oxygen", "15.9994", 16, 2, "Other" ,
                 "F", "Fluorine", "18.9984032", 17, 2, "Halogen" ,
                 "Ne", "Neon", "20.1797", 18, 2, "Noble" ,
                 "Na", "Sodium", "22.98976...", 1, 3, "Alkali" ,
                 "Mg", "Magnesium", "24.305", 2, 3, "Alkaline" ,
                 "Al", "Aluminium", "26.9815386", 13, 3, "PostTransition" ,
                 "Si", "Silicon", "28.0855", 14, 3, "Metalloid" ,
                 "P", "Phosphorus", "30.973762", 15, 3, "Other" ,
                 "S", "Sulfur", "32.065", 16, 3, "Other" ,
                 "Cl", "Chlorine", "35.453", 17, 3, "Halogen" ,
                 "Ar", "Argon", "39.948", 18, 3, "Noble" ,
                 "K", "Potassium", "39.948", 1, 4, "Alkali" ,
                 "Ca", "Calcium", "40.078", 2, 4, "Alkaline" ,
                 "Sc", "Scandium", "44.955912", 3, 4, "Transition" ,
                 "Ti", "Titanium", "47.867", 4, 4, "Transition" ,
                 "V", "Vanadium", "50.9415", 5, 4, "Transition" ,
                 "Cr", "Chromium", "51.9961", 6, 4, "Transition" ,
                 "Mn", "Manganese", "54.938045", 7, 4, "Transition" ,
                 "Fe", "Iron", "55.845", 8, 4, "Transition" ,
                 "Co", "Cobalt", "58.933195", 9, 4, "Transition" ,
                 "Ni", "Nickel", "58.6934", 10, 4, "Transition" ,
                 "Cu", "Copper", "63.546", 11, 4, "Transition" ,
                 "Zn", "Zinc", "65.38", 12, 4, "Transition" ,
                 "Ga", "Gallium", "69.723", 13, 4, "PostTransition" ,
                 "Ge", "Germanium", "72.63", 14, 4, "Metalloid" ,
                 "As", "Arsenic", "74.9216", 15, 4, "Metalloid" ,
                 "Se", "Selenium", "78.96", 16, 4, "Other" ,
                 "Br", "Bromine", "79.904", 17, 4, "Halogen" ,
                 "Kr", "Krypton", "83.798", 18, 4, "Noble" ,
                 "Rb", "Rubidium", "85.4678", 1, 5, "Alkali" ,
                 "Sr", "Strontium", "87.62", 2, 5, "Alkaline" ,
                 "Y", "Yttrium", "88.90585", 3, 5, "Transition" ,
                 "Zr", "Zirconium", "91.224", 4, 5, "Transition" ,
                 "Nb", "Niobium", "92.90628", 5, 5, "Transition" ,
                 "Mo", "Molybdenum", "95.96", 6, 5, "Transition" ,
                 "Tc", "Technetium", "(98)", 7, 5, "Transition" ,
                 "Ru", "Ruthenium", "101.07", 8, 5, "Transition" ,
                 "Rh", "Rhodium", "102.9055", 9, 5, "Transition" ,
                 "Pd", "Palladium", "106.42", 10, 5, "Transition" ,
                 "Ag", "Silver", "107.8682", 11, 5, "Transition" ,
                 "Cd", "Cadmium", "112.411", 12, 5, "Transition" ,
                 "In", "Indium", "114.818", 13, 5, "PostTransition" ,
                 "Sn", "Tin", "118.71", 14, 5, "PostTransition" ,
                 "Sb", "Antimony", "121.76", 15, 5, "Metalloid",
                 "Te", "Tellurium", "127.6", 16, 5, "Metalloid",
                 "I", "Iodine", "126.90447", 17, 5, "Halogen",
                 "Xe", "Xenon", "131.293", 18, 5, "Noble",
                 "Cs", "Caesium", "132.9054", 1, 6, "Alkali",
                 "Ba", "Barium", "132.9054", 2, 6, "Alkaline",
                 "La", "Lanthanum", "138.90547", 4, 9, "Lanthanide",
                 "Ce", "Cerium", "140.116", 5, 9, "Lanthanide",
                 "Pr", "Praseodymium", "140.90765", 6, 9, "Lanthanide",
                 "Nd", "Neodymium", "144.242", 7, 9, "Lanthanide",
                 "Pm", "Promethium", "(145)", 8, 9, "Lanthanide",
                 "Sm", "Samarium", "150.36", 9, 9, "Lanthanide",
                 "Eu", "Europium", "151.964", 10, 9, "Lanthanide",
                 "Gd", "Gadolinium", "157.25", 11, 9, "Lanthanide",
                 "Tb", "Terbium", "158.92535", 12, 9, "Lanthanide",
                 "Dy", "Dysprosium", "162.5", 13, 9, "Lanthanide",
                 "Ho", "Holmium", "164.93032", 14, 9, "Lanthanide",
                 "Er", "Erbium", "167.259", 15, 9, "Lanthanide",
                 "Tm", "Thulium", "168.93421", 16, 9, "Lanthanide",
                 "Yb", "Ytterbium", "173.054", 17, 9, "Lanthanide",
                 "Lu", "Lutetium", "174.9668", 18, 9, "Lanthanide",
                 "Hf", "Hafnium", "178.49", 4, 6, "Transition" ,
                 "Ta", "Tantalum", "180.94788", 5, 6, "Transition" ,
                 "W", "Tungsten", "183.84", 6, 6, "Transition" ,
                 "Re", "Rhenium", "186.207", 7, 6, "Transition" ,
                 "Os", "Osmium", "190.23", 8, 6, "Transition" ,
                 "Ir", "Iridium", "192.217", 9, 6, "Transition" ,
                 "Pt", "Platinum", "195.084", 10, 6, "Transition",
                 "Au", "Gold", "196.966569", 11, 6, "Transition" ,
                 "Hg", "Mercury", "200.59", 12, 6, "Transition" ,
                 "Tl", "Thallium", "204.3833", 13, 6, "PostTransition" ,
                 "Pb", "Lead", "207.2", 14, 6, "PostTransition",
                 "Bi", "Bismuth", "208.9804", 15, 6, "PostTransition" ,
                 "Po", "Polonium", "(209)", 16, 6, "PostTransition" ,
                 "At", "Astatine", "(210)", 17, 6, "Halogen",
                 "Rn", "Radon", "(222)", 18, 6, "Noble",
                 "Fr", "Francium", "(223)", 1, 7, "Alkali",
                 "Ra", "Radium", "(226)", 2, 7, "Alkaline",
                 "Ac", "Actinium", "(227)", 4, 10, "Actinide",
                 "Th", "Thorium", "232.03806", 5, 10, "Actinide",
                 "Pa", "Protactinium", "231.0588", 6, 10, "Actinide",
                 "U", "Uranium", "238.02891", 7, 10, "Actinide",
                 "Np", "Neptunium", "(237)", 8, 10, "Actinide",
                 "Pu", "Plutonium", "(244)", 9, 10, "Actinide",
                 "Am", "Americium", "(243)", 10, 10, "Actinide",
                 "Cm", "Curium", "(247)", 11, 10, "Actinide",
                 "Bk", "Berkelium", "(247)", 12, 10, "Actinide",
                 "Cf", "Californium", "(251)", 13, 10, "Actinide",
                 "Es", "Einstenium", "(252)", 14, 10, "Actinide",
                 "Fm", "Fermium", "(257)", 15, 10, "Actinide",
                 "Md", "Mendelevium", "(258)", 16, 10, "Actinide",
                 "No", "Nobelium", "(259)", 17, 10, "Actinide",
                 "Lr", "Lawrencium", "(262)", 18, 10, "Actinide",
                 "Rf", "Rutherfordium", "(267)", 4, 7, "Transition" ,
                 "Db", "Dubnium", "(268)", 5, 7, "Transition" ,
                 "Sg", "Seaborgium", "(271)", 6, 7, "Transition" ,
                 "Bh", "Bohrium", "(272)", 7, 7, "Transition" ,
                 "Hs", "Hassium", "(270)", 8, 7, "Transition" ,
                 "Mt", "Meitnerium", "(276)", 9, 7, "Unknown",
                 "Ds", "Darmstadium", "(281)", 10, 7, "Unknown",
                 "Rg", "Roentgenium", "(280)", 11, 7, "Unknown",
                 "Cn", "Copernicium", "(285)", 12, 7, "Transition" ,
                 "Uut", "Unutrium", "(284)", 13, 7, "Unknown",
                 "Fl", "Flerovium", "(289)", 14, 7, "Unknown",
                 "Uup", "Ununpentium", "(288)", 15, 7, "Unknown",
                 "Lv", "Livermorium", "(293)", 16, 7, "Unknown",
                 "Uus", "Ununseptium", "(294)", 17, 7, "Unknown",
                 "Uuo", "Ununoctium", "(294)", 18, 7, "Unknown",
            ];

           


        let scene, camera, renderer, controls;
        const objects = [];
        const targets = { 

            grid: [],
            helix: [], 
            table: [], 
            sphere: [],
            cone:[] 

        };
        const category = ['Alkali','Alkaline','Transition','PostTransition','Metalloid','Other', 'Halogen', 'Noble','Lanthanide','Actinide','Unknown'];

        var isBackgroundClicked = true;


        init();
        animation();

        /**
         * [init initialize scene && create animation && set constrol]
         * @Author    yujunhao
         * @DateTime  2019-03-10
         * @version   [1.0.0]
         * @return    {[no]}
         *
         * [camera perspective camera]
         * @param filedView
         * @param aspect
         * @param near clipping plane
         * @param far clipping plane
         * @type {THREE}
         *
         * [renderer CSS3DRenderer only used to tranform domElem to 3D model]
         * WebGLoutput the father node of domElem container
         * @type {THREE}
         * 
         * [controls create trackball control]
         * controls.minDistance = 500;  the camera min distance in Z Axis
         * controls.maxDistance = 6000; the camera max distance in Z Axis
         * @type {THREE}
         *
         * 
         */
        
        function init() {

            const felidView   = 40;
            const width       = window.innerWidth;
            const height      = window.innerHeight;
            const aspect      = width / height;
            const nearPlane   = 1;
            const farPlane    = 10000;
            const WebGLoutput = document.getElementById('container');

            scene    = new THREE.Scene();
            camera   = new THREE.PerspectiveCamera( felidView, aspect, nearPlane, farPlane );
            camera.position.z = 3000;
            
            renderer = new THREE.CSS3DRenderer();
            renderer.setSize( width, height );
            renderer.domElement.style.position = 'absolute';
            WebGLoutput.appendChild( renderer.domElement );


            controls = new THREE.TrackballControls( camera, renderer.domElement );

                        controls.rotateSpeed  = 1;
                        controls.staticMoving = true;
                        controls.minDistance  = 500;
                        controls.maxDistance  = 6000;
                        controls.addEventListener( 'change', render );

            /**
             * [i 0 5 10 .....]
             * [len iterator count]
             * @type {Number}
             *
             * [element dom element]
             * [backgroundColor create a random color of g from 0.25 to 0.75]
             *
             * [number order]
             * @type {[int]}
             *
             * [symbol example: H element]
             * @type {[string]}
             *
             * [detail fullname && quality]
             * @type {[string && float]}
             *
             *[object transform domElem to CSS3D object]
             * @type {THREE}
             * @position vector3( value1, value2, value3 ) [value: -2000 ~ 2000]
             *
             *
             * 
             */
            
            let i   = 0;
            let len = table.length;

            for ( ; i < len; i += 6 ) {

                const element             = document.createElement('div');
                element.className         = 'element';
                element.style.backgroundColor = putColor(i) + '0.4)';
                //element.style.backgroundColor = `rgba( 0, 127, 127, ${ Math.random() * 0.5 + 0.25 } )`;
                element.id = i + 0;
                element.isSelected = false;
                // element.addEventListener( 'click', onElementMouseClick, false);


                const number        = document.createElement('div');
                number.className    = 'number';
                number.textContent  = i / 6 + 1;
                element.appendChild( number );
            

                const symbol        = document.createElement('div');
                symbol.className    = 'symbol';
                symbol.textContent  = table[ i ];
                element.appendChild( symbol );
                

                const detail        = document.createElement('div');
                detail.className    = 'detail';
                detail.innerHTML    = `${ table[ i + 1 ] }<br/>${ table[ i + 2 ] }`;
                element.appendChild( detail );


                var object        = new THREE.CSS3DObject( element );
                object.position.x   = Math.random() * 4000 - 2000;
                object.position.y   = Math.random() * 4000 - 2000;
                object.position.z   = Math.random() * 4000 - 2000;
                scene.add( object );

                objects.push( object );
            }

            const objLength = objects.length;

            createGridVertices();
            createTableVertices();
            createHelixVertices();
            createSphereVertices();
            createConeVertices();

            /**
             * [objLength 118 elements]
             * @type {[number]}
             *
             * [createTableVertices create table format vertices]
             *
             * [createTableVertices create sphere format vertices]
             *
             * [createTableVertices create helix format vertices]
             *
             * [createTableVertices create grid format vertices]
             */

            function putColor(i) {
                var item = table[i + 5];

                    var element = document.createElement( 'div' );
                    element.className = 'element';
                    var colorText;
                    switch( item ){
                    case 'Alkali':
                        colorText = 'rgba(255,26,140,';
                        break;
                    case 'Alkaline':
                        colorText = 'rgba(179,0,179,';
                        break;
                    case 'Transition':
                        colorText = 'rgba(102, 153, 255,';
                        break;
                    case 'PostTransition':
                        colorText = 'rgba(0, 102, 0,';
                        break;
                    case 'Metalloid':
                        colorText = 'rgba(26,255,26,';
                        break;
                    case 'Other':
                        colorText = 'rgba(0,136,136,';
                        break;
                    case 'Halogen':
                        colorText = 'rgba(255,68,68,';
                        break;
                    case 'Noble':
                        colorText = 'rgba(153,51,204,';
                        break;
                    case 'Lanthanide':
                        colorText = 'rgba(255,255,0,';
                        break;
                    case 'Actinide':
                        colorText = 'rgba(255, 71, 26,';
                        break;              
                    case 'Unknown':
                        colorText = 'rgba(255, 102, 163,';
                        break;
                    }

                    return colorText;
            }


            function createTableVertices() {

                let i = 0;

                for ( ; i < len; i += 6 ) {

                    const object      = new THREE.Object3D();

                    // [ column 18 ]
                    object.position.x = table[ i  + 3 ] * 140 - 1350;
                    object.position.y = -table[ i + 4 ] * 175 + 1100;
                    object.position.z = 0;

                    targets.table.push( object );

                }
            }

            function createSphereVertices() {

                let i = 0;
                const vector = new THREE.Vector3();

                for ( ; i < objLength; ++i ) {

                    let phi   = Math.acos( -1 + ( 2  * i ) / objLength );
                    let theta = Math.sqrt( objLength * Math.PI ) * phi;
                    const object      = new THREE.Object3D();

                    object.position.x =  800 * Math.cos( theta ) * Math.sin( phi );
                    object.position.y =  800 * Math.sin( theta ) * Math.sin( phi )+100;
                    object.position.z = -800 * Math.cos( phi );

                    // rotation object 
                    
                    vector.copy( object.position ).multiplyScalar( 2 );
                    object.lookAt( vector );
                    targets.sphere.push( object );
                }


            }

            function createHelixVertices() {

                let i = 0;
                const vector = new THREE.Vector3();

                for ( ; i < objLength; ++i ) {

                    let phi = i * 0.213 + Math.PI;

                    const object = new THREE.Object3D();

                    object.position.x = 800  * Math.sin( phi );
                    object.position.y = -( i * 8 ) + 450;
                    object.position.z = 800  * Math.cos( phi + Math.PI );

                    object.scale.set( 1.1, 1.1, 1.1 );

                    vector.x = object.position.x * 2;
                    vector.y = object.position.y;
                    vector.z = object.position.z * 2;

                    object.lookAt( vector );

                    targets.helix.push( object );
                }


            }

            function createGridVertices() {

                let i = 0;

                for ( ; i < objLength; ++i ) {

                    const object      = new THREE.Object3D();

                    object.position.x =  360  * ( i   % 5) - 800;
                    object.position.y = -360  * ( ( i /  5 >> 0 ) % 5 ) + 800;
                    object.position.z = -700  * ( i   / 25 >> 0 );

                    targets.grid.push( object );
                }


            }

            function createConeVertices(){

                const vector = new THREE.Vector3();

               let i = 0;

                for ( ; i < objLength; ++i ) {

                
                    var phi = i * 0.175 + Math.PI;

                    const object = new THREE.Object3D();

                    object.position.x = (Math.sqrt(i * 500)+1000*Math.abs(i-objLength/2)/objLength+500) * Math.sin( phi );
                    object.position.y = - ( i * 13 ) + 750;
                    object.position.z = (Math.sqrt(i * 500)+1000*Math.abs(i-objLength/2)/objLength+500) * Math.cos( phi );

                    vector.copy( objects[objLength/2].position );
                    vector.x *= 2;
                    vector.z *= 2;

                    object.lookAt( new THREE.Vector3(0,0,0) );

                    targets.cone.push( object );

            }
        }

            // set background
            renderer.domElement.style.background = "url('https://wallarthd.com/wp-content/uploads/2015/05/dark-galaxy-wallpaper.jpg')";
            

            const gridBtn    = document.getElementById('grid');
            const tableBtn   = document.getElementById('table');
            const helixBtn   = document.getElementById('helix');
            const planeBtn   = document.getElementById('plane');
            const sphereBtn  = document.getElementById('sphere');
            const sphere2Btn = document.getElementById('sphere2');
            const coneBtn = document.getElementById('cone');



            planeBtn.addEventListener(   'click', function() { transformPlane(            2000 ) },  false );
            sphere2Btn.addEventListener( 'click', function() { transformSphere2(          2000 ) },  false );
            gridBtn.addEventListener(    'click', function() { transform( targets.grid,   2000 )},   false );
            tableBtn.addEventListener(   'click', function() { transform( targets.table,  2000 ) },  false );
            helixBtn.addEventListener(   'click', function() { transform( targets.helix,  2000 ) },  false );
            sphereBtn.addEventListener(  'click', function() { transform( targets.sphere, 2000 ) },  false );
            coneBtn.addEventListener(  'click', function() { transform( targets.cone, 2000 ) },  false );
            



            window.addEventListener( 'resize', onWindowResize, false );
            document.getElementById('main_body').addEventListener( 'click', onDocumentMouseDown, false);

            // default animation
            transform( targets.table, 2000 );

            /**
             * [transform transform domelem'position to target'position]
             * @param     {[array]}    targets  [description]
             * @param     {[number]}    duration [description]
             * @return    {[type]}             [description]
             */
            
            function transform( targets, duration ) {

                TWEEN.removeAll();

                for ( let i = 0; i < objLength; ++i ) {

                    let object = objects[ i ];
                    let target = targets[ i ];

                    new TWEEN.Tween( object.position )
                        .to( { x: target.position.x, y: target.position.y, z: target.position.z },
                        Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();


                    new TWEEN.Tween( object.rotation )
                        .to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();

                }

                    // 这个补间用来在位置与旋转补间同步执行，通过onUpdate在每次更新数据后渲染scene和camera
                    new TWEEN.Tween( {} )
                        .to( {}, duration * 2 )
                        .onUpdate( render )
                        .start();

            }

            function transformSphere2(duration) {

                TWEEN.removeAll();

                const sphereGeom = new THREE.SphereGeometry( 800, 12, 11 );
                const vertices   = sphereGeom.vertices;
                const vector     = new THREE.Vector3();

                for ( let i = 0; i < objLength; ++i ) {

                    const target = new THREE.Object3D();

                    target.position.copy(vertices[i]);
                    vector.copy( target.position ).multiplyScalar( 2 );
                    target.lookAt( vector );

                    let object = objects[ i ];

                    new TWEEN.Tween( object.position )
                        .to( vertices[i],
                        Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();


                    new TWEEN.Tween( object.rotation )
                        .to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();

                }

                    new TWEEN.Tween( this )
                        .to( {}, duration * 2 )
                        .onUpdate( render )
                        .start();

            }

            function transformPlane(duration) {

                TWEEN.removeAll();

                const planeGeom = new THREE.PlaneGeometry( 2000, 1300, 11, 9 );
                const vertices  = planeGeom.vertices;
                const vector    = new THREE.Vector3();

                for ( let i = 0; i < objLength; ++i ) {

                    const target = new THREE.Object3D();

                    target.position.copy(vertices[i]);
                    
                    let object = objects[ i ];

                    new TWEEN.Tween( object.position )
                        .to( vertices[i],
                        Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();


                    new TWEEN.Tween( object.rotation )
                        .to( { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z }, Math.random() * duration + duration )
                        .easing( TWEEN.Easing.Exponential.InOut )
                        .start();

                }
                    new TWEEN.Tween( this )
                        .to( {}, duration * 2 )
                        .onUpdate( render )
                        .start();

            }

            render();
        }

        /**
         * [onWindowResize reset the scene size && camera.aspect && re render]
         * @return
         */
        function onWindowResize() {

            camera.aspect = window.innerWidth / window.innerHeight
            camera.updateProjectionMatrix();
            renderer.setSize( window.innerWidth, window.innerHeight );
            render();

        }


        // function onElementMouseClick(event){
        //     var scope = this;

        //     console.log(objects[this.id]);

        //     //Tween : Pan to Element
        //     new TWEEN.Tween( camera.position ).to( {
        //         x: objects[this.id / 6].position.x,
        //         y: objects[this.id / 6].position.y,
        //         z: objects[this.id / 6].position.z + 200000}, 2000 )
        //         .easing( TWEEN.Easing.Elastic.Out).start();
        // }

        function onDocumentMouseDown(event){

            if(isBackgroundClicked){
                    
                    //Tween : Pull back camera
                    new TWEEN.Tween( camera.position ).to( {
                        x: 0,
                        y: 0,
                        z: 3000 }, 2000 )
                        .easing( TWEEN.Easing.Elastic.Out)
                        .start()
        }
    }

        /**
         * [animation update all tween && controls]
         */
        function animation() {

            TWEEN.update();
            controls.update();
            requestAnimationFrame( animation );


        }

        
        function render() {

            renderer.render( scene, camera );

        }

    </script>
    
</body>
</html>
